@page "/faq"
@rendermode InteractiveServer
<div class="faq-page">
    <h1 class="faq-title">FAQ</h1>

    <section class="faq-card">
        <div class="faq-header">
            <div class="faq-kicker">FREQUENTLY ASKED QUESTIONS</div>
            <div class="faq-heading">Answered by our experts</div>
        </div>

        <div class="faq-list">
            @for (int i = 0; i < Items.Count; i++)
            {
                var isOpen = OpenIndex == i;

                <button type="button"
                        class="faq-item @(isOpen ? "open" : "")"
                        @onclick="() => Toggle(i)">
                    <span class="faq-question">@Items[i].Question</span>

                    <span class="faq-icon" aria-hidden="true">
                        <span class="bar horizontal"></span>
                        <span class="bar vertical"></span>
                    </span>
                </button>

                @if (isOpen)
                {
                    <div class="faq-answer">
                        @Items[i].Answer
                    </div>
                }
            }
        </div>
    </section>
</div>

<p>OpenIndex: @OpenIndex</p>



@code {
    private int? OpenIndex = null; // only one open at a time

    private List<FaqItem> Items = new()
    {
        new("Why choose us for reviews?",
            "We publish structured, criteria-based reviews and clearly disclose testing methodology."),

        new("How does the scoring system work?",
            "Each product is rated across weighted categories (performance, value, build, features), then combined into a final score."),

        new("How do we ensure reviews are fair or not sponsored?",
            "We separate editorial from sponsorships, disclose affiliate links, and do not accept payment for positive ratings."),

        new("What are the guidelines for reviews?",
            "Be respectful, stay on-topic, avoid misinformation, and do not include personal data or hate speech.")
    };

    private void Toggle(int index)
    {
        OpenIndex = (OpenIndex == index) ? null : index;
    }

    private record FaqItem(string Question, string Answer);
}

